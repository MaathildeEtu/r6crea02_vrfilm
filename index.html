<html>
    <head>
        <title>Projet Final</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.4/dist/aframe-extras.min.js"></script>
        <!-- <script src="./dist/aframe-extras.js"></script> -->

    </head>
    <body>
        <a-scene>
            <a-asset>
                <img id="sky" src="./assets/sky4.png">
                <img id="sol" src="./assets/sol.png">
                <a-asset-item id="house" src="./assets/house.glb"></a-asset-item>

                <!-- Nature -->
                <a-asset-item id="plants" src="./assets/plants.glb"></a-asset-item>
                <a-asset-item id="tree1" src="./assets/tree1.glb"></a-asset-item>
                <a-asset-item id="tree2" src="./assets/tree2.glb"></a-asset-item>
                <a-asset-item id="tree3" src="./assets/tree3.glb"></a-asset-item>
                <a-asset-item id="tree4" src="./assets/tree4.glb"></a-asset-item>
                <a-asset-item id="woodlog" src="./assets/woodlog.glb"></a-asset-item>
                <a-asset-item id="herbs" src="./assets/herbs.glb"></a-asset-item>
                <a-asset-item id="flower-blue" src="./assets/flower_blue.glb"></a-asset-item>
                <a-asset-item id="flower-yellow" src="./assets/flower_yellow.glb"></a-asset-item>
                <a-asset-item id="flower-pink" src="./assets/flower_pink.glb"></a-asset-item>

                <!-- Insectes -->
                <a-asset-item id="butterfly" src="./assets/butterfly.glb"></a-asset-item>
                <a-asset-item id="butterfly2" src="./assets/butterfly2.glb"></a-asset-item>
                <a-asset-item id="dragonfly" src="./assets/dragonfly.glb"></a-asset-item>
                <a-asset-item id="ant" src="./assets/ant.glb"></a-asset-item>
                <a-asset-item id="ladybug" src="./assets/ladybug.glb"></a-asset-item>

                <a-asset-item id="navmesh" src="./assets/trace-navmesh.glb"></a-asset-item>
            </a-asset>

            <!-- Insectes -->
            <a-entity>
                <a-entity gltf-model="#butterfly" position="42 20 0" rotation="0 225 0" scale="0.2 0.2 0.2"
                    animation="property: position; to: -43 24 -10; dur: 10000; easing: linear; loop: true"></a-entity>
                    
                <a-entity gltf-model="#butterfly" position="36 7 15" rotation="0 10 0" scale="0.2 0.2 0.2"></a-entity>
                <a-entity gltf-model="#butterfly2" position="9 11 -6" rotation="0 10 0" scale="0.1 0.1 0.1"></a-entity>
                <a-entity gltf-model="#butterfly2" position="-3 9 -13" rotation="0 5 0" scale="0.2 0.2 0.2"></a-entity>

                <a-entity gltf-model="#dragonfly" position="-21 9 -3" rotation="0 5 0" scale="0.4 0.4 0.4"
                    animation="property: position; to: -21 12 -3; dur: 5000; easing: linear; loop: true"></a-entity>

                <a-entity gltf-model="#ant" position="-10.40694 0.8 2.07013" rotation="0 5 0" scale="0.6 0.6 0.6"></a-entity>
                <a-entity gltf-model="#ant" position="-11.08746 0.8 -0.20734" rotation="0 5 0" scale="0.6 0.6 0.6"></a-entity>
                <a-entity gltf-model="#ant" position="-8.614 0.8 -0.87249" rotation="0 5 0" scale="0.6 0.6 0.6"></a-entity>
                <a-entity gltf-model="#ant" position="-5.92331 0.8 0.60923" rotation="0 80 0" scale="0.6 0.6 0.6"></a-entity>
                
                <a-entity gltf-model="#ladybug" position="8 0.2 -5" rotation="0 40 0" scale="1.5 1.5 1.5"></a-entity>
                <a-entity gltf-model="#ladybug" position="6 0.2 -3" rotation="0 40 0" scale="0.5 0.5 0.5"></a-entity>
                <a-entity gltf-model="#ladybug" position="8 0.2 -1" rotation="0 40 0" scale="0.5 0.5 0.5"></a-entity>
                <a-entity gltf-model="#ladybug" position="6 0.2 -1" rotation="0 20 0" scale="0.5 0.5 0.5"></a-entity>

            </a-entity>

            <!-- Arbres -->
            <a-entity>
                <a-entity gltf-model="#tree2" position="48 -1 0" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#tree2" position="-30 -1 1.5" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="./assets/tree2.glb" position="-28.10911 -1 42.23937" rotation="0 225 0" scale="10 10 10"></a-entity>

                <a-entity gltf-model="#tree3" position="24 -1 -40" rotation="0 225 0" scale="20 20 20"></a-entity>
                <a-entity gltf-model="#tree3" position="6.5 -1 -33" rotation="0 225 0" scale="20 20 20"></a-entity>
                <a-entity gltf-model="#tree3" position="-11 -1 -10" rotation="0 225 0" scale="20 20 20"></a-entity>
                <a-entity gltf-model="#tree3" position="-22 -1 18" rotation="0 225 0" scale="20 20 20"></a-entity>
                <a-entity gltf-model="#tree3" position="35 -1 20" rotation="0 225 0" scale="20 20 20"></a-entity>
                <a-entity gltf-model="#tree3" position="6.13 42" rotation="0 225 0" scale="20 20 20"></a-entity>
                <a-entity gltf-model="#tree3" position="38 -1 -13" rotation="0 225 0" scale="20 20 20"></a-entity>

                <a-entity gltf-model="#tree4" position="-20 -1 -46" rotation="0 225 0" scale="15 15 15"></a-entity>
                <a-entity gltf-model="#tree4" position="9 -1 11" rotation="0 225 0" scale="15 15 15"></a-entity>

                <a-entity gltf-model="#woodlog" position="-3 0 -6" rotation="0 225 0" scale="3 3 3"></a-entity>

            </a-entity>

            <!-- House -->
            <a-entity>
                <a-entity gltf-model="#house" position="-2 0 -200" rotation="0 -20 0" scale="80 80 80"></a-entity>
            </a-entity>

            <!-- Flower -->
            <a-entity>
                <!-- <a-entity gltf-model="#flower-blue" position="-2 0.30 -50" rotation="0 -20 0" scale="5 5 5"></a-entity> -->
                <!-- <a-entity gltf-model="#flower-blue" position="-16 0.30 -53" rotation="0 -20 0" scale="5 5 5"></a-entity> -->

                <a-entity gltf-model="#flower-pink" position="-16 8 -40" rotation="0 -20 0" scale="60 60 60"></a-entity>
                <a-entity gltf-model="#flower-pink" position="4 8 18" rotation="0 -20 0" scale="60 60 60"></a-entity>
                <a-entity gltf-model="#flower-pink" position="-38 8 -9" rotation="0 -20 0" scale="60 60 60"></a-entity>

                <a-entity gltf-model="#flower-yellow" position="-16 0.3 -25" rotation="0 -20 0" scale=".6 .6 .6"></a-entity>
                <a-entity gltf-model="#flower-yellow" position="28 0.3 -16" rotation="0 90 0" scale=".6 .6 .6"></a-entity>
                <a-entity gltf-model="#flower-yellow" position="28 0.3 -22" rotation="0 180 0" scale=".6 .6 .6"></a-entity>
                <a-entity gltf-model="#flower-yellow" position="37 0.3 32" rotation="0 180 0" scale=".6 .6 .6"></a-entity>
                <a-entity gltf-model="#flower-yellow" position="-23 0.3 14" rotation="0 180 0" scale=".6 .6 .6"></a-entity>
                <a-entity gltf-model="#flower-yellow" position="-23 0.3 13" rotation="" scale=".6 .6 .6"></a-entity>
            </a-entity>

            <!-- Herbes -->
            <a-entity>
                <!-- <a-entity gltf-model="#herbs" position="0 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <!-- <a-entity gltf-model="#herbs" position="2 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity> -->

                <!-- <a-entity gltf-model="#herbs" position="-10 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <!-- <a-entity gltf-model="#herbs" position="-12 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <!-- <a-entity gltf-model="#herbs" position="10 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <!-- <a-entity gltf-model="#herbs" position="12 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                
                <!-- <a-entity gltf-model="#herbs" position="-10 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <a-entity gltf-model="#herbs" position="-12 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <!-- <a-entity gltf-model="#herbs" position="10 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <a-entity gltf-model="#herbs" position="12 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-10 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <!-- <a-entity gltf-model="#herbs" position="-12 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <!-- <a-entity gltf-model="#herbs" position="10 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <a-entity gltf-model="#herbs" position="12 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity>

                <a-entity gltf-model="#herbs" position="-10 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-12 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <!-- <a-entity gltf-model="#herbs" position="10 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <a-entity gltf-model="#herbs" position="12 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-10 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-12 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <!-- <a-entity gltf-model="#herbs" position="10 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <a-entity gltf-model="#herbs" position="12 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>

                
                <a-entity gltf-model="#herbs" position="-20 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-22 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="20 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity>
                <!-- <a-entity gltf-model="#herbs" position="22 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity> -->

                <a-entity gltf-model="#herbs" position="-20 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <!-- <a-entity gltf-model="#herbs" position="-22 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <!-- <a-entity gltf-model="#herbs" position="20 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <a-entity gltf-model="#herbs" position="22 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-20 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-22 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="20 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <!-- <a-entity gltf-model="#herbs" position="22 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity> -->

                <a-entity gltf-model="#herbs" position="-20 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-22 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="20 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="22 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-20 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <!-- <a-entity gltf-model="#herbs" position="-22 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <a-entity gltf-model="#herbs" position="20 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="22 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>


                <a-entity gltf-model="#herbs" position="-30 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-32 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity>
                <!-- <a-entity gltf-model="#herbs" position="30 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <!-- <a-entity gltf-model="#herbs" position="32 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity> -->

                <a-entity gltf-model="#herbs" position="-30 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-32 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="30 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="32 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <!-- <a-entity gltf-model="#herbs" position="-30 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <a-entity gltf-model="#herbs" position="-32 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <!-- <a-entity gltf-model="#herbs" position="30 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <a-entity gltf-model="#herbs" position="32 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity>

                <!-- <a-entity gltf-model="#herbs" position="-30 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <a-entity gltf-model="#herbs" position="-32 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="30 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="32 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-30 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-32 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="30 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="32 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>


                <a-entity gltf-model="#herbs" position="-40 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-42 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="40 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="42 2.5 0" rotation="0 225 0" scale="10 10 10"></a-entity>

                <a-entity gltf-model="#herbs" position="-40 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-42 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="40 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="42 2.5 20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-40 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-42 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="40 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="42 2.5 -20" rotation="0 225 0" scale="10 10 10"></a-entity>
                
                <!-- <a-entity gltf-model="#herbs" position="-40 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity> -->
                <a-entity gltf-model="#herbs" position="-42 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="40 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="42 2.5 40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-40 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="-42 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="40 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>
                <a-entity gltf-model="#herbs" position="42 2.5 -40" rotation="0 225 0" scale="10 10 10"></a-entity>
            </a-entity>

            <a-entity generate-spheres position="0 6 0"></a-entity>

            <!-- Nav mesh. -->
            <a-entity 
                nav-mesh
                visible="false"
                position="2 0.2 1.6"
                gltf-model="#navmesh">
            </a-entity>


            <!-- Player. -->
            <a-entity id="rig"
                    movement-controls="constrainToNavMesh: true"
                    position="0 0 0">
                <a-entity camera
                        position="0 1 0"
                        look-controls="pointerLockEnabled: true">
                    <a-cursor></a-cursor>
                </a-entity>
            </a-entity>
            
            <a-plane src="#sol" position="0 0 0" rotation="-90 0 0" width="800" height="800"></a-plane>
            <a-sky src="#sky"></a-sky>
            
        </a-scene>

        <script>
            // Component to generate cubes
            AFRAME.registerComponent("generate-spheres", {
                init: function () {
                    for (let i = 0; i < 20; i++) {
                        const sphere = document.createElement("a-sphere");
                        sphere.setAttribute("position", {
                            x: Math.random() * 20 - 10,
                            y: Math.random() * 20,
                            z: Math.random() * 20 - 10,
                        });
                        // sphere.setAttribute(
                        //     "color",
                        //     `#${Math.floor(Math.random() * 16777215).toString(16)}`
                        // );
                        sphere.setAttribute("color", "#fff7d1");
                        sphere.setAttribute("intensity", "2");
                        sphere.setAttribute("emissiveIntensity", "100");
                        // sphere.setAttribute("radius", Math.floor(Math.random() * 1 + 1));
                        sphere.setAttribute("radius", ".4");
                        sphere.setAttribute("class", "clickable"); 
                        sphere.setAttribute("interactable", "");
                        this.el.appendChild(sphere);
                    }
                },
            });
        </script>

        <!-- <a-entity geometry="primitive:sphere; radius:1" position="0 3 6" scale="0.4 0.4 0.4" material="color:#fff; emissive:#01FFCB; emissiveIntensity:100;" light="color:#01FFCB; type:point; intensity:2; distance:8"></a-entity> -->
    </body>
</html>